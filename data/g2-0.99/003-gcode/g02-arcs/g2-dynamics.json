################################################################################
#
#   g2-dynamics.json
#
# MACHINE SETUP
#   These tests are best run on a fast XY belt machine like a Shapeoko,
#   Ultimaker or a Makeblock. Maximums tested:
#       X and Y maximum velocity        40,000 mm/min
#       X and Y maximum jerk            20,000 mm/min^3 (* 1,000,000)
#       JT junction integration time    2.0
#
#   Position the machine in the center of travel in X, Y and Z
#   Clearance must be at least 100mm positive and negative in each dimension.
#   This position will be set (0,0,0) by setup-centered's G28.3 command
#
### TEST SETUP
#
# DEFAULTS
{
    "defaults":{
        "fail":"hard",
        "delay":0.100,
        "precision":0.001
    }
}
#
{
    "t":{"label":"Setup for arc dynamics tests",
         "send":["{ct:0.1}","{jt:2.0}",
                 "{xvm:40000}","{xjm:10000}",
                 "{yvm:40000}","{yjm:10000}",
                 "G17 G21 G90 G91.1 G94",
                 "G10 L20 P2 X100 Y100 Z0",
                 "G55",
                 "G28.1",
                 "F2000"
                 ],
         "fail":"hard"},
    "r":{"status":0}
}

########################
### TESTS START HERE ###
########################

# Full circle arc tests at various speeds
{
    "t":{"label":"G2D-1A: CW 360 degree circle at F2000",
         "before":["{ct:0.1}","{jt:2.0}",
                   "{xvm:40000}","{xjm:10000}",
                   "{yvm:40000}","{yjm:10000}"],
        "send":["G28","G2 I50 F2000"]},
    "sr":{"posx": 100, "posy": 100},
    "r":{"status":0}
}
#
{
    "t":{"label":"G2D-1B: CW 360 degree circle at F4000",
         "send":["G28","G2 I50 F4000"]},
    "sr":{"posx": 100, "posy": 100},
    "r":{"status":0}
}
#
{
    "t":{"label":"G2D-1C: CW 360 degree circle at F10,000",
         "send":["G28","G2 I50 F10000"]},
    "sr":{"posx": 100, "posy": 100},
    "r":{"status":0}
}
#
{
    "t":{"label":"G2D-1D: CW 360 degree circle at F40,000",
         "send":["G28","G2 I50 F40000"]},
    "sr":{"posx": 100, "posy": 100},
    "r":{"status":0}
}
#
{
    "t":{"label":"G2D-1E: CW 360 degree circle at F80,000",
         "send":["G28","G2 I50 F80000"]},
    "sr":{"posx": 100, "posy": 100},
    "r":{"status":0}
}
