################################################################################
#
#   json-exceptions-001.json - JSON exception tests
#
#  It's best to run these tests with no setup file, as setup is handled here
{
  "defaults":{
    "fail":"hard"
  }
}
# SKIP
{
    "t":{"label":"Set configs for JSON tests",
         "send":["{js:1}", "{jv:5}", "{tv:1}", "{qv:0}", "{sv:2}", "{si:100}"],
         "delay":0.100},
    "r":{"status":0}
}
#
# JSON EXCEPTION TESTS BEGIN HERE
#
# test of value provided is wrong type for key
#
{
    "t":{"label":"Key is missing",
         "send":["{:null}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Key is blank",
         "send":["{   :null}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Value is missing",
         "send":["{key:}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Value is blank",
         "send":["{key:     }"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Missing key and value",
         "send":["{:}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Blank key and value",
         "send":["{   :   }"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Nonsense float value",
         "send":["{xvm:xx12qq.x}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Float value followed by nonsense",
         "send":["{xvm:12qq.x}"]},
        "r":{"status":102}
}
#
{
    "t":{"label":"Boolean value not t or f",
         "send":["{1po:xxx}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"Boolean value numeric range error -1",
         "send":["{1po:-1}"]},
        "r":{"status":110}
}
#
{
    "t":{"label":"Boolean value numeric range error 2",
         "send":["{1po:2}"]},
        "r":{"status":110}
}
#
{
    "t":{"label":"Input is excessive length > 128 bytes",
         "send":["{x:\"0_________10________20________30________40________50________60________70________80________90________100_______110_______120_______130\"}"]},
        "r":{"status":107}
}
#
{
    "t":{"label":"Name exceeds maximum name characters",
         "send":["{nameistoolong:n}"]},
        "r":{"status":107}
}
#
{
    "t":{"label":"Query exceeds maximum recursion depth",
         "send":["{x:{x:{x:{x:{x:n}}}}}"]},
        "r":{"status":115}
}
#
{
    "t":{"label":"Expanded result exceeds maximum NV pairs",
         "send":["{x:n,y:n,z:n}"]},
        "r":{"status":112}
}
