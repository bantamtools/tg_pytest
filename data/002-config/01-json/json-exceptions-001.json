################################################################################
#
#   json-exceptions-001.json - JSON exception tests
#
# include 000-setup/setup-settings-001.json
# SKIP
{
  "defaults":{
    "fail":"hard"
  }
}
#
# SKIP
{
    "t":{"label":"Set configs for JSON tests",
         "send":["{js:1}", "{jv:5}", "{tv:1}", "{qv:0}", "{sv:2}", "{si:200}"],
         "delay":0.100},
    "r":{"status":0}
}
#
# JSON EXCEPTION TESTS BEGIN HERE
#
# test of value provided is wrong type for key
#
{
    "t":{"label":"EXCEPTION: Key is missing",
         "send":["{:null}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Key is blank",
         "send":["{   :null}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Read invalid key (token)",
         "send":["{CRAP:null}"]},
        "r":{"status":100}
}
#
{
    "t":{"label":"EXCEPTION: Write invalid key (token)",
         "send":["{CRAP:42}"]},
        "r":{"status":100}
}
#
{
    "t":{"label":"EXCEPTION: Value is missing",
         "send":["{key:}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Value is blank",
         "send":["{key:     }"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Missing key and value",
         "send":["{:}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Blank key and value",
         "send":["{   :   }"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Nonsense float value - treated as JSON syntax error",
         "send":["{xvm:xx12qq.x}"]},
        "r":{"status":111}
}
#
{
    "t":{"label":"EXCEPTION: Float value followed by nonsense",
         "send":["{xvm:12qq.x}"]},
        "r":{"status":102, "xvm":null}
}
#
{
    "t":{"label":"EXCEPTION: Boolean value not t or f",
         "send":["{1po:xxx}"]},
        "r":{"status":111, "1po":null}
}
#
{
    "t":{"label":"EXCEPTION: Boolean value numeric range error -1",
         "send":["{1po:-1}"]},
        "r":{"status":110, "xvm":null}
}
#
{
    "t":{"label":"EXCEPTION: Boolean value numeric range error 2",
         "send":["{1po:2}"]},
        "r":{"status":110}
}
#
{
    "t":{"label":"EXCEPTION: Input is excessive length > 128 bytes",
         "send":["{x:\"0_________10________20________30________40________50________60________70________80________90________100_______110_______120_______130\"}"]},
        "r":{"status":107}
}
#
{
    "t":{"label":"EXCEPTION: Name exceeds maximum name characters",
         "send":["{nameistoolong:n}"]},
        "r":{"status":115}
}
#
{
    "t":{"label":"EXCEPTION: Query exceeds maximum recursion depth",
         "send":["{x:{x:{x:{x:{x:n}}}}}"]},
        "r":{"status":114}
}
#
{
    "t":{"label":"EXCEPTION: Expanded result exceeds maximum NV pairs",
         "send":["{x:n,y:n,z:n}"]},
        "r":{"status":112}
}
